<!--
- Nome: Pasquale
    - Cognome: Pagano
    - Matricola: 0124003182
    - Corso di Laurea: Informatica
    - Anno Accademico: 2025/2026
            &
    - Nome: Daniele
    - Cognome: Mele
    - Matricola: 0124003006
    - Corso di Laurea: Informatica
    - Anno Accademico: 2025/2026
-->

<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Admin Aziendale</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- CSS PERSONALIZZATO -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard_adminaziendale.css') }}">
</head>

<body class="min-h-screen relative font-sans">

    <!-- Barra di navigazione mobile -->
    <div
        class="md:hidden fixed top-0 left-0 w-full bg-[#1E293B] z-50 flex items-center justify-between px-4 h-16 shadow-md">
        <div class="flex items-center gap-3">
            <button onclick="toggleSidebarMobile()" class="text-white p-2 focus:outline-none">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
            <span class="text-white font-bold text-lg">Azienda Edile</span>
        </div>
        <img src="{{ url_for('static', filename = 'img/logo.png') }}" class="h-20 w-auto object-contain">
    </div>

    <div
        class="dashboard-card w-full min-h-screen flex flex-col md:flex-row overflow-auto bg-white/20 backdrop-blur-[30px]">

        <!-- Barra laterale -->
        <aside id="sidebar"
            class="w-24 bg-[#1E293B] text-white flex flex-col transition-all duration-300 ease-in-out relative z-20 min-h-screen overflow-auto border-r border-white/10 shadow-xl hidden md:flex">

            <div class="flex flex-col items-center justify-center py-6 gap-4 w-full">
                <img id="sidebar-logo" src="{{ url_for('static', filename = 'img/logo.png') }}"
                    class="h-10 w-auto object-contain transition-all duration-300" alt="Logo Azienda">
            </div>

            <span id="brand-text"
                class="hidden font-bold text-xl tracking-wide transition-colors duration-300 whitespace-nowrap text-left pl-6 w-full block">
                Azienda Edile
            </span>

            <div class="flex flex-col items-center justify-center py-6 gap-4 w-full">
                <div id="toggle-wrap" class="w-full flex justify-center mt-2 transition-colors duration-300">
                    <button onclick="toggleSidebar()"
                        class="p-2 rounded-lg hover:bg-white/10 transition-colors focus:outline-none">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                    </button>
                </div>
            </div>

            <nav class="flex flex-col gap-2 px-5 space-y-1 mt-2 w-full">

                <button id="btn-dashboard" onclick="caricaSezione('dashboard')"
                    class="sidebar-btn group flex items-center justify-center gap-4 py-3 rounded-lg hover:bg-white/10 text-gray-200 hover:text-white transition-all overflow-hidden whitespace-nowrap">
                    <div class="min-w-[24px] flex justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="currentColor">
                            <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" />
                        </svg>
                    </div>
                    <span class="link-text hidden transition-all duration-300">Dashboard</span>
                </button>

                <button id="btn-cantieri" onclick="caricaSezione('cantieri')"
                    class="sidebar-btn group flex items-center justify-center gap-4 py-3 rounded-lg hover:bg-white/10 text-gray-200 hover:text-white transition-all overflow-hidden whitespace-nowrap">
                    <div class="min-w-[24px] flex justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="3" y1="9" x2="21" y2="9"></line>
                            <line x1="9" y1="21" x2="9" y2="9"></line>
                        </svg>
                    </div>
                    <span class="link-text hidden transition-all duration-300">Cantieri</span>
                </button>

                <button id="btn-beni" onclick="caricaSezione('beni')"
                    class="sidebar-btn group flex items-center justify-center gap-4 py-3 rounded-lg hover:bg-white/10 text-gray-200 hover:text-white transition-all overflow-hidden whitespace-nowrap">
                    <div class="min-w-[24px] flex justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z">
                            </path>
                            <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                            <line x1="12" y1="22.08" x2="12" y2="12"></line>
                        </svg>
                    </div>
                    <span class="link-text hidden transition-all duration-300">Beni</span>
                </button>

                <button id="btn-operai" onclick="caricaSezione('operai')"
                    class="sidebar-btn group flex items-center justify-center gap-4 py-3 rounded-lg hover:bg-white/10 text-gray-200 hover:text-white transition-all overflow-hidden whitespace-nowrap">
                    <div class="min-w-[24px] flex justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M2 12h20" />
                            <path d="M6 12v-2a6 6 0 0 1 12 0v2" />
                            <rect x="9" y="12" width="6" height="4" rx="1" />
                        </svg>
                    </div>
                    <span class="link-text hidden transition-all duration-300">Operai</span>
                </button>
            </nav>

            <!-- Pulsante di LogOut-->
            <div class="mt-auto w-full px-5 mb-6">
                <button onclick="logout()"
                    class="sidebar-btn group flex items-center justify-center gap-4 py-3 rounded-lg hover:bg-red-500/20 text-red-400 hover:text-red-300 transition-all overflow-hidden whitespace-nowrap w-full border border-transparent hover:border-red-500/30">

                    <div class="min-w-[24px] flex justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16 17 21 12 16 7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                    </div>
                    <span class="link-text hidden transition-all duration-300 font-medium">Esci</span>
                </button>
            </div>
        </aside>

        <div id="mobile-overlay" onclick="toggleSidebarMobile()"
            class="fixed inset-0 bg-black/50 z-30 hidden md:hidden backdrop-blur-sm transition-opacity">
        </div>

        <!-- Renderizza il contenuto delle sezioni -->
        <main
            class="flex-1 p-12 flex flex-col justify-start items-start text-left relative z-20 min-h-screen content-area">
                <!-- Il codice della dashboard potrebbe andare qui, ma per restare coerenti con le altre sezioni
                 lo implementiamo in un file separato all'interno della cartella partials/dashboard.html-->
            <div id="content-container"></div>
        </main>

    </div>
    <script src="{{url_for( 'static', filename= 'dashboard_adminaziendale.js')}}"></script>
    <script src="{{url_for( 'static', filename= 'dashboard_adminaziendale_operai.js')}}"></script>
    <script src="{{url_for( 'static', filename= 'dashboard_adminaziendale_cantieri.js')}}"></script>
    <script src="{{url_for( 'static', filename= 'dashboard_adminaziendale_beni.js')}}"></script>
</body>

</html>