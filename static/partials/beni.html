<!--
- Nome: Pasquale
    - Cognome: Pagano
    - Matricola: 0124003182
    - Corso di Laurea: Informatica
    - Anno Accademico: 2025/2026
            &
    - Nome: Daniele
    - Cognome: Mele
    - Matricola: 0124003006
    - Corso di Laurea: Informatica
    - Anno Accademico: 2025/2026
-->

<div class="section-content beni-section">

    <div class="header-strip">
        <div class="header-content">
            <img src="/static/img/logo.png" class="logo-contained" alt="Logo Azienda">
            <span id="nome_azienda" class="company-name"></span>
        </div>
    </div>

    <div class="dashboard-header-card">
        <div class="dashboard-title">
            <h1>Gestione beni aziendali</h1>
            <p>Beni della tua azienda</p>
        </div>
    </div>

    <div class="dashboard-grid">

        <div class="table-card h-full">
            <div class="card-header-row">
                <h2 class="card-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0" />
                    </svg> 
                    Veicoli
                </h2>
                <button onclick="openAddVeicoloModal()" class="add-btn small-btn">
                    + Aggiungi Veicolo
                </button>
            </div>

            <div class="table-responsive">
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th style="width: 25%;">Targa</th>
                            <th style="width: 20%;">Marca</th>
                            <th style="width: 20%;">Modello</th>
                            <th style="width: 15%;">Anno</th>
                            <th style="width: 20%; text-align: center;">Azioni</th>
                        </tr>
                    </thead>
                    <tbody id="veicoli-table-body"></tbody>
                </table>
            </div>
        </div>

        <div class="table-card h-full">
            <div class="card-header-row">
                <h2 class="card-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 10h-2V7a3 3 0 00-3-3H8a3 3 0 00-3 3v3H3v10a2 2 0 002 2h14a2 2 0 002-2V10zM9 7a1 1 0 011-1h4a1 1 0 011 1v3H9V7z" />
                        <rect x="9" y="14" width="6" height="3" rx="0.5" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
                    </svg>
                    Attrezzi
                </h2>
                <button onclick="openAddAttrezzoModal()" class="add-btn small-btn">
                    + Aggiungi Attrezzo
                </button>
            </div>

            <div class="table-responsive">
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th style="width: 25%;">Seriale</th>
                            <th style="width: 20%;">Marca</th>
                            <th style="width: 20%;">Modello</th>
                            <th style="width: 15%;">Tipo</th>
                            <th style="width: 20%; text-align: center;">Azioni</th>
                        </tr>
                    </thead>
                    <tbody id="attrezzi-table-body"></tbody>
                </table>
            </div>
        </div>

    </div>
</div>

<div id="add-veicolo-modal" class="modal hidden">
    <div class="modal-content">
        <h3 class="modal-title">Nuovo Veicolo</h3>

        <small id="err_veicolo_targa" class="error-msg hidden">Targa obbligatoria</small>
        <input id="new_veicolo_targa" class="input-field" type="text" placeholder="Targa">

        <small id="err_veicolo_marca" class="error-msg hidden">Marca obbligatoria</small>
        <input id="new_veicolo_marca" class="input-field" type="text" placeholder="Marca">

        <small id="err_veicolo_modello" class="error-msg hidden">Modello obbligatorio</small>
        <input id="new_veicolo_modello" class="input-field" type="text" placeholder="Modello">

        <small id="err_veicolo_anno" class="error-msg hidden">Anno obbligatorio</small>
        <input id="new_veicolo_anno" class="input-field" type="text" placeholder="Anno">

        <div class="modal-actions">
            <button onclick="closeAddVeicoloModal()" class="cancel-btn">Annulla</button>
            <button onclick="insertVeicolo()" class="confirm-btn">Crea Veicolo</button>
        </div>
    </div>
</div>

<div id="add-attrezzo-modal" class="modal hidden">
    <div class="modal-content">
        <h3 class="modal-title">Nuovo Attrezzo</h3>

        <small id="err_attrezzo_seriale" class="error-msg hidden">Il codice seriale Ã¨ obbligatorio</small>
        <input id="new_attrezzo_seriale" class="input-field" type="text" placeholder="Seriale">

        <small id="err_attrezzo_marca" class="error-msg hidden">Marca dell'attrezzo obbligatoria</small>
        <input id="new_attrezzo_marca" class="input-field" type="text" placeholder="Marca">

        <small id="err_attrezzo_modello" class="error-msg hidden">Modello dell'attrezzo obbligatorio</small>
        <input id="new_attrezzo_modello" class="input-field" type="text" placeholder="Modello">

        <small id="err_attrezzo_tipo" class="error-msg hidden">Tipo di attrezzo obbligatorio</small>
        <input id="new_attrezzo_tipo" class="input-field" type="text" placeholder="Tipo">

        <div class="modal-actions">
            <button onclick="closeAddAttrezzoModal()" class="cancel-btn">Annulla</button>
            <button onclick="insertAttrezzo()" class="confirm-btn">Crea Attrezzo</button>
        </div>
    </div>
</div>

<div id="delete-attrezzo-modal" class="modal hidden">
    <div class="modal-content">
        <h3 class="modal-title">Conferma Eliminazione</h3>
        <p class="modal-message">Sei sicuro di voler eliminare questo attrezzo?</p>
        <div class="modal-actions">
            <button onclick="closeDeleteModal()" class="cancel-btn">Annulla</button>
            <button id="confirm-delete-btn" class="delete-btn">Elimina</button>
        </div>
    </div>
</div>

<div id="delete-veicolo-modal" class="modal hidden">
    <div class="modal-content">
        <h3 class="modal-title">Conferma Eliminazione</h3>
        <p class="modal-message">Sei sicuro di voler eliminare questo veicolo?</p>
        <div class="modal-actions">
            <button onclick="closeDeleteModal()" class="cancel-btn">Annulla</button>
            <button id="confirm-delete-btn" class="delete-btn">Elimina</button>
        </div>
    </div>
</div>

<div id="success-modal" class="modal hidden">
    <div class="modal-content success-layout">
        <svg xmlns="http://www.w3.org/2000/svg" class="success-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
        </svg>
        <h3 class="modal-title">Operazione completata</h3>
        <p id="success-message" class="modal-message">Bene salvato.</p>
        <button onclick="closeSuccessModal()" class="confirm-btn">OK</button>
    </div>
</div>