<!--
- Nome: Pasquale
    - Cognome: Pagano
    - Matricola: 0124003182
    - Corso di Laurea: Informatica
    - Anno Accademico: 2025/2026
            &
    - Nome: Daniele
    - Cognome: Mele
    - Matricola: 0124003006
    - Corso di Laurea: Informatica
    - Anno Accademico: 2025/2026
-->

<div class="section-content operai-section">

    <div class="header-strip">
        <div class="header-content">
            <img src="/static/img/logo.png" class="logo-contained" alt="Logo Azienda">
            <span id="nome_azienda" class="company-name"></span>
        </div>
    </div>

    <div class="dashboard-header-card">
        <div class="dashboard-title">
            <h1>Gestione operai</h1>
            <p>Operai che lavorano per la tua azienda</p>
        </div>

        <div class="header-actions">
            <button onclick="openAddModal()" class="add-btn">
                Aggiungi Operaio
            </button>
        </div>
    </div>

    <div class="table-card">
        <div class="table-responsive">
            <table class="admin-table">
                <thead>
                    <tr>
                        <th style="width: 20%;">Codice Fiscale</th>
                        <th style="width: 15%;">Nome</th>
                        <th style="width: 15%;">Cognome</th>
                        <th style="width: 15%;">Data Nascita</th>
                        <th style="width: 15%;">Telefono</th>
                        <th style="width: 10%;">Ruolo</th>
                        <th style="width: 10%; text-align: center;">Azione</th>
                    </tr>
                </thead>
                <tbody id="operai-table-body">
                    </tbody>
            </table>
        </div>
    </div>
</div>

<div id="add-operaio-modal" class="modal hidden">
    <div class="modal-content">
        <h3 class="modal-title">Nuovo Operaio</h3>

        <small id="err_new_cf" class="error-msg hidden">Il codice fiscale deve essere di 16 cifre</small>
        <input id="new_cf" class="input-field" type="text" placeholder="Codice Fiscale">

        <small id="err_new_nome" class="error-msg hidden">Il nome è obbligatorio</small>
        <input id="new_nome" class="input-field" type="text" placeholder="Nome">

        <small id="err_new_cognome" class="error-msg hidden">Il cognome è obbligatorio</small>
        <input id="new_cognome" class="input-field" type="text" placeholder="Cognome">

        <small id="err_new_password" class="error-msg hidden">La password deve essere obbligatoria</small>
        <input id="new_password" class="input-field" type="password" placeholder="Password">

        <small id="err_new_dataNascita" class="error-msg hidden">Data nascita non è valida</small>
        <input id="new_dataNascita" class="input-field" type="date">

        <small id="err_new_numeroTelefono" class="error-msg hidden">Il numero di telefono è obbligatorio</small>
        <input id="new_NumeroTelefono" class="input-field" type="text" placeholder="Numero di telefono">

        <div class="modal-actions">
            <button onclick="closeAddModal()" class="cancel-btn">Annulla</button>
            <button onclick="createOperaio()" class="confirm-btn">Crea</button>
        </div>
    </div>
</div>

<div id="edit-operaio-modal" class="modal hidden">
    <div class="modal-content">
        <h3 class="modal-title">Modifica Operaio</h3>

        <input id="edit_cf" class="input-field" type="text" disabled style="background-color: #f3f4f6;">

        <small id="err_edit_nome" class="error-msg hidden">Il nome è obbligatorio</small>
        <input id="edit_nome" class="input-field" type="text" placeholder="Nome">
        
        <small id="err_edit_cognome" class="error-msg hidden">Il cognome è obbligatorio</small>
        <input id="edit_cognome" class="input-field" type="text" placeholder="Cognome">

        <small id="err_edit_password" class="error-msg hidden">La password è obbligatoria</small>
        <input id="edit_password" class="input-field" type="password" placeholder="Nuova password (lascia vuoto per non cambiare)">
        
        <small id="err_edit_dataNascita" class="error-msg hidden">Data di nascita non valida</small>
        <input id="edit_dataNascita" class="input-field" type="date">

        <small id="err_edit_numeroTelefono" class="error-msg hidden">Il numero di telefono è obbligatorio</small>
        <input id="edit_NumeroTelefono" class="input-field" type="text" placeholder="Numero di telefono">

        <div class="modal-actions">
            <button onclick="closeEditModal()" class="cancel-btn">Annulla</button>
            <button onclick="updateOperaio()" class="confirm-btn">Salva</button>
        </div>
    </div>
</div>

<div id="delete-operaio-modal" class="modal hidden">
    <div class="modal-content">
        <h3 class="modal-title">Conferma Eliminazione</h3>
        <p class="modal-message">Sei sicuro di voler eliminare questo operaio?</p>
        
        <div class="modal-actions">
            <button id="cancel-delete-btn" onclick="closeDeleteOperaioModal()" class="cancel-btn">Annulla</button>
            
            <button id="confirm-delete-btn" onclick="confirmDeleteOperaio()" class="delete-btn">Elimina</button>
        </div>
    </div>
</div>

<div id="success-modal" class="modal hidden">
    <div class="modal-content success-layout">
        <svg xmlns="http://www.w3.org/2000/svg" class="success-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
        </svg>
        <h3 class="modal-title">Operazione completata</h3>
        <p id="success-message" class="modal-message">Operazione completata</p>
        <button onclick="closeSuccessModal()" class="confirm-btn">OK</button>
    </div>
</div>